services:
    - type: web
      name: strogent-laravel
      runtime: docker
      dockerfilePath: ./Dockerfile

      # Environment variables - set these in Render dashboard
      envVars:
          - key: PORT
            value: 8000
          - key: APP_ENV
            value: production

      # Health check
      healthCheckPath: /

      # Disk for persistent storage
      disk:
          name: storage
          mountPath: /app/storage
          sizeGB: 1

      # Scaling
      numInstances: 1

      # Deploy on push to main branch
      branch: main
